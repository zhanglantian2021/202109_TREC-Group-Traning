library(EBImage)
install.packages("metagear")
library(metagear)
library(plantlist)
library(RCurl)
library(devtools)
install.packages("C:/Program Files/R/R-3.6.3/library/plantlist_0.6.5.zip", repos = NULL, type = "win.binary")
library(plantlist)
library(readr)
library(readxl)
setwd("C:/Users/yrq/Desktop/Meta introduce_YRQ/data")
##???Ա????????κ????ʡ???????��ϵ???ˣ? ??˪???п?Ժ??̬?????о????ģ?shuangzhang@rcees.ac.cn
##��ϰ????��Դ??Ben??tez-L??pez, A., R. Alkemade, A. M. Schipper, D. J. Ingram, P. A. Verweij, J. A. J. Eikelboom, and M. A. J. Huijbregts. 2017. The impact of hunting on tropical mammal and bird populations. Science 356:180-183.
##Ϊ?˱???��ϰ????ԭ?????к???ȱʧֵ????????ȫ??ɾȥ???ش?˵??
##???ù???Ŀ¼
setwd("C:/Users/yrq/Desktop/Meta introduce_YRQ/data")
library(readxl)
require(ggmap)
require(maps)
##????Ҫ?õ?????????
library(metafor)
library(ggplot2)
library(glmulti)
d1 <- read_excel("meta_sampledata.xls")
d2<-escalc(measure="ROM",data=d1,m1i=treatment_mean,sd1i=treatment_sd,n1i=treatment_n,m2i=control_mean,sd2i=control_sd,n2i=control_n)
##?̶?ЧӦģ?ͣ?????rma?????ָ??method="FE"
##??ЧӦֵyi????С??????˳??????????(?Ǳ?Ҫ????)
d2<- d2[order(-d2$yi),]
##?̶?ЧӦģ?????㣬ָ??method="FE"
fixed1<-rma(yi,vi, data=d2, method="FE")
##?鿴????
summary(fixed1)
##???ͱ?��Ϊ??????��ʱ?ķ???
##??ʾ???????У??��?ģ??r1?Ľ?????ͨ??summary(random1)?鿴????
##??ЧӦֵ??????????ָ??Qt(df = 1778) = 52841.2851, p-val < .0001
##˵?????ݵ??????Ժ?ǿ???б?Ҫ???????ͱ?��???????н??͡?
##?????ɷ???????????????Ⱥ(birds or mammal)??ЧӦֵ????Ӱ?죬????ͬ??????Ⱥ?ܴ??Ե?Ӱ?????ܲ?ͬ??
###?̶?ЧӦģ??
fr4<-rma(yi,vi, mods=~group,data=d2, method="FE")
summary(fr4)
fr5<-rma(yi,vi, mods=~group-1,data=d2, method="FE")
summary(fr5)
estimates_fr5 <- coef(summary(fr5))[,1]
summary(fr4)
###????ЧӦģ??
r4<-rma(yi,vi, mods=~group,data=d2, method="REML")
summary(r4)
